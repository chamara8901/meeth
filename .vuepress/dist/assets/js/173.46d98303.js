(window.webpackJsonp=window.webpackJsonp||[]).push([[173],{437:function(t,_,v){"use strict";v.r(_);var s=v(13),r=Object(s.a)({},(function(){var t=this,_=t._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"_1-管理画面再構築-api共通仕様"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-管理画面再構築-api共通仕様"}},[t._v("#")]),t._v(" 1. "),_("a",{attrs:{href:"https://github.com/grrowjp/Meeth/wiki/%E7%AE%A1%E7%90%86%E7%94%BB%E9%9D%A2%E5%86%8D%E6%A7%8B%E7%AF%89-%E7%94%BB%E9%9D%A2%E4%B8%80%E8%A6%A7",target:"_blank",rel:"noopener noreferrer"}},[t._v("管理画面再構築"),_("OutboundLink")],1),t._v(" - API共通仕様")]),t._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#1-%E7%AE%A1%E7%90%86%E7%94%BB%E9%9D%A2%E5%86%8D%E6%A7%8B%E7%AF%89---api%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98"}},[t._v("1. 管理画面再構築 - API共通仕様")]),t._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#11-%E5%85%B1%E9%80%9A%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF"}},[t._v("1.1. 共通レスポンスパラメータ")]),t._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#111-%E5%85%B1%E9%80%9A%E9%A0%85%E7%9B%AE"}},[t._v("1.1.1 共通項目")])]),t._v(" "),_("li",[_("a",{attrs:{href:"#112-status"}},[t._v("1.1.2 status")])]),t._v(" "),_("li",[_("a",{attrs:{href:"#1121-%E6%A6%82%E8%A6%81"}},[t._v("1.1.2.1 概要")])]),t._v(" "),_("li",[_("a",{attrs:{href:"#1122-%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%E5%80%A4%E3%81%AE%E5%86%85%E5%AE%B9"}},[t._v("1.1.2.2 パラメータ値の内容")])]),t._v(" "),_("li",[_("a",{attrs:{href:"#113-%E3%82%A8%E3%83%A9%E3%83%BC%E3%82%B3%E3%83%BC%E3%83%89%E5%8F%8A%E3%81%B3%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8"}},[t._v("1.1.3 エラーコード及びメッセージ")])]),t._v(" "),_("li",[_("a",{attrs:{href:"#1131-%E6%A6%82%E8%A6%81"}},[t._v("1.1.3.1 概要")])]),t._v(" "),_("li",[_("a",{attrs:{href:"#1132-%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%E5%80%A4%E3%81%AE%E5%86%85%E5%AE%B9"}},[t._v("1.1.3.2 パラメータ値の内容")])])])]),t._v(" "),_("li",[_("a",{attrs:{href:"#12-%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%83%88%E3%83%BC%E3%82%AF%E3%83%B3%E3%81%A8%E3%83%AC%E3%83%80%E3%82%A4%E3%83%AC%E3%82%AF%E3%83%88%E3%83%88%E3%83%BC%E3%82%AF%E3%83%B3"}},[t._v("1.2. アクセストークンとレダイレクトトークン")]),t._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#121-%E6%A6%82%E8%A6%81"}},[t._v("1.2.1 概要")])]),t._v(" "),_("li",[_("a",{attrs:{href:"#122-%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF"}},[t._v("1.2.2 リクエストパラメータ")])]),t._v(" "),_("li",[_("a",{attrs:{href:"#123-%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF"}},[t._v("1.2.3 レスポンスパラメータ")])])])])])])]),t._v(" "),_("h2",{attrs:{id:"_1-1-共通レスポンスパラメータ"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-共通レスポンスパラメータ"}},[t._v("#")]),t._v(" 1.1. 共通レスポンスパラメータ")]),t._v(" "),_("h3",{attrs:{id:"_1-1-1-共通項目"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-共通項目"}},[t._v("#")]),t._v(" 1.1.1 共通項目")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("NO")]),t._v(" "),_("th",[t._v("パラメータ名")]),t._v(" "),_("th",[t._v("パラメータ名")]),t._v(" "),_("th",[t._v("値(例)")]),t._v(" "),_("th",[t._v("説明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("1")]),t._v(" "),_("td",[t._v("処理結果")]),t._v(" "),_("td",[t._v("result")]),t._v(" "),_("td",[t._v("array")]),t._v(" "),_("td",[t._v("結果の連想配列(JSONのオブジェクト型)")])]),t._v(" "),_("tr",[_("td",[t._v("1-1")]),t._v(" "),_("td",[t._v("ステータス")]),t._v(" "),_("td",[t._v("status")]),t._v(" "),_("td",[t._v("string(success)")]),t._v(" "),_("td",[t._v("ステータス")])]),t._v(" "),_("tr",[_("td",[t._v("1-2")]),t._v(" "),_("td",[t._v("コード")]),t._v(" "),_("td",[t._v("code")]),t._v(" "),_("td",[t._v("integer(0)")]),t._v(" "),_("td",[t._v("エラー原因を特定するコード番号")])]),t._v(" "),_("tr",[_("td",[t._v("1-3")]),t._v(" "),_("td",[t._v("メッセージ")]),t._v(" "),_("td",[t._v("message")]),t._v(" "),_("td",[t._v("string(正常)")]),t._v(" "),_("td",[t._v("エラーメッセージ")])])])]),t._v(" "),_("h3",{attrs:{id:"_1-1-2-status"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-status"}},[t._v("#")]),t._v(" 1.1.2 status")]),t._v(" "),_("h3",{attrs:{id:"_1-1-2-1-概要"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-1-概要"}},[t._v("#")]),t._v(" 1.1.2.1 概要")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("NO")]),t._v(" "),_("th",[t._v("名称")]),t._v(" "),_("th",[t._v("内容")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("1")]),t._v(" "),_("td",[t._v("status")]),t._v(" "),_("td",[t._v("ステータス結果を格納する")])])])]),t._v(" "),_("h3",{attrs:{id:"_1-1-2-2-パラメータ値の内容"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-2-パラメータ値の内容"}},[t._v("#")]),t._v(" 1.1.2.2 パラメータ値の内容")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("NO")]),t._v(" "),_("th",[t._v("status")]),t._v(" "),_("th",[t._v("返却内容説明")]),t._v(" "),_("th",[t._v("備考")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("1")]),t._v(" "),_("td",[t._v("success")]),t._v(" "),_("td",[t._v("dataパラメータに想定される結果を格納して返却する")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("2")]),t._v(" "),_("td",[t._v("error")]),t._v(" "),_("td",[t._v("同時に「code」にエラー原因を特定するコード番号、「message」にエラーメッセージを格納する")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("3")]),t._v(" "),_("td",[t._v("redirect")]),t._v(" "),_("td",[t._v("同時に「code」に要リダイレクト(要再認証)原因を特定するコード、「message」にエラーメッセージを格納する")]),t._v(" "),_("td")])])]),t._v(" "),_("h3",{attrs:{id:"_1-1-3-エラーコード及びメッセージ"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-3-エラーコード及びメッセージ"}},[t._v("#")]),t._v(" 1.1.3 エラーコード及びメッセージ")]),t._v(" "),_("h3",{attrs:{id:"_1-1-3-1-概要"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-3-1-概要"}},[t._v("#")]),t._v(" 1.1.3.1 概要")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("NO")]),t._v(" "),_("th",[t._v("名称")]),t._v(" "),_("th",[t._v("内容")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("1")]),t._v(" "),_("td",[t._v("code")]),t._v(" "),_("td",[t._v("エラー時や要リダイレクト時に、エラー原因を特定するコード番号を格納する")])]),t._v(" "),_("tr",[_("td",[t._v("2")]),t._v(" "),_("td",[t._v("message")]),t._v(" "),_("td",[t._v("エラー時や要リダイレクト時に、エラー原因を特定するエラーメッセージを格納する")])])])]),t._v(" "),_("h3",{attrs:{id:"_1-1-3-2-パラメータ値の内容"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-3-2-パラメータ値の内容"}},[t._v("#")]),t._v(" 1.1.3.2 パラメータ値の内容")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("NO")]),t._v(" "),_("th",[t._v("Code")]),t._v(" "),_("th",[t._v("Message")]),t._v(" "),_("th",[t._v("エラーケース")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("1")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("正常")]),t._v(" "),_("td",[t._v("正常時レスポンス")])]),t._v(" "),_("tr",[_("td",[t._v("2")]),t._v(" "),_("td",[t._v("000001")]),t._v(" "),_("td",[t._v("存在しないパス[xxxxx]にアクセスしました。")]),t._v(" "),_("td",[t._v("存在しないパスへアクセスした場合")])]),t._v(" "),_("tr",[_("td",[t._v("3")]),t._v(" "),_("td",[t._v("000002")]),t._v(" "),_("td",[t._v("アクセス元ホストのURIスキームがhttpsではありません")]),t._v(" "),_("td",[t._v("https以外でアクセスした場合")])]),t._v(" "),_("tr",[_("td",[t._v("4")]),t._v(" "),_("td",[t._v("001001")]),t._v(" "),_("td",[t._v("access_tokenが指定されていません。")]),t._v(" "),_("td",[t._v("access_tokenがパラメータに指定されていない場合")])]),t._v(" "),_("tr",[_("td",[t._v("5")]),t._v(" "),_("td",[t._v("001002")]),t._v(" "),_("td",[t._v("access_token[xxxxx]が不正です。")]),t._v(" "),_("td",[t._v("不正なaccess_tokenがパラメータに指定されている場合")])]),t._v(" "),_("tr",[_("td",[t._v("6")]),t._v(" "),_("td",[t._v("001003")]),t._v(" "),_("td",[t._v("access_tokenの有効期限が終了しました。")]),t._v(" "),_("td",[t._v("access_tokenが有効期限切れの場合(refresh_token未設定時)")])]),t._v(" "),_("tr",[_("td",[t._v("7")]),t._v(" "),_("td",[t._v("002000")]),t._v(" "),_("td",[t._v("入力エラーが存在します。[バリデーションエラー内容]")]),t._v(" "),_("td",[t._v("バリデーションエラーの場合"),_("br"),t._v("内容はエラー内容によって異なる")])]),t._v(" "),_("tr",[_("td",[t._v("8")]),t._v(" "),_("td",[t._v("002001")]),t._v(" "),_("td",[t._v("ログインできませんでした。[ログイン時エラー内容]")]),t._v(" "),_("td",[t._v("バリデーションエラー以外でログイン処理に失敗した場合")])]),t._v(" "),_("tr",[_("td",[t._v("9")]),t._v(" "),_("td",[t._v("002002")]),t._v(" "),_("td",[t._v("閲覧・操作権限エラーです。")]),t._v(" "),_("td",[t._v("ログイン権限エラーの場合")])]),t._v(" "),_("tr",[_("td",[t._v("10")]),t._v(" "),_("td",[t._v("002003")]),t._v(" "),_("td",[t._v("保存処理に失敗しました。")]),t._v(" "),_("td",[t._v("新規登録・更新処理に失敗した場合")])]),t._v(" "),_("tr",[_("td",[t._v("11")]),t._v(" "),_("td",[t._v("002004")]),t._v(" "),_("td",[t._v("削除に失敗しました。")]),t._v(" "),_("td",[t._v("削除処理に失敗した場合")])]),t._v(" "),_("tr",[_("td",[t._v("12")]),t._v(" "),_("td",[t._v("002005")]),t._v(" "),_("td",[t._v("CSVダウンロード処理に失敗しました。")]),t._v(" "),_("td",[t._v("CSVダウンロード処理に失敗した場合")])]),t._v(" "),_("tr",[_("td",[t._v("13")]),t._v(" "),_("td",[t._v("003001")]),t._v(" "),_("td",[t._v("SQLのタイムアウトエラーです。")]),t._v(" "),_("td",[t._v("SQLの実行時間が長過ぎる場合")])]),t._v(" "),_("tr",[_("td",[t._v("14")]),t._v(" "),_("td",[t._v("003002")]),t._v(" "),_("td",[t._v("現在[xxxxx]がメンテナンス中の為、再度時間を置いてからアクセスして下さい。")]),t._v(" "),_("td",[t._v("サービスがメンテナンス中の場合"),_("br"),t._v("[xxxxx]にはメンテナンスサービス名を格納する")])]),t._v(" "),_("tr",[_("td",[t._v("15")]),t._v(" "),_("td",[t._v("999999")]),t._v(" "),_("td",[t._v("APIサーバーのシステムエラーが発生しました。")]),t._v(" "),_("td",[t._v("例外を捕捉した場合")])])])]),t._v(" "),_("h2",{attrs:{id:"_1-2-アクセストークンとレダイレクトトークン"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-アクセストークンとレダイレクトトークン"}},[t._v("#")]),t._v(" 1.2. アクセストークンとレダイレクトトークン")]),t._v(" "),_("h3",{attrs:{id:"_1-2-1-概要"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-概要"}},[t._v("#")]),t._v(" 1.2.1 概要")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("NO")]),t._v(" "),_("th",[t._v("名称")]),t._v(" "),_("th",[t._v("内容")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("1")]),t._v(" "),_("td",[t._v("access_token")]),t._v(" "),_("td",[t._v("メイン機能のデータにアクセスする為のログイントークン")])]),t._v(" "),_("tr",[_("td",[t._v("2")]),t._v(" "),_("td",[t._v("access_token_limit")]),t._v(" "),_("td",[t._v("access_tokenの有効期限")])]),t._v(" "),_("tr",[_("td",[t._v("3")]),t._v(" "),_("td",[t._v("refresh_token")]),t._v(" "),_("td",[t._v("access_tokenの有効期限が切れた際に、access_tokenを再発行する為のトークン")])]),t._v(" "),_("tr",[_("td",[t._v("4")]),t._v(" "),_("td",[t._v("refresh_token_limit")]),t._v(" "),_("td",[t._v("refresh_tokenの有効期限")])])])]),t._v(" "),_("h3",{attrs:{id:"_1-2-2-リクエストパラメータ"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-リクエストパラメータ"}},[t._v("#")]),t._v(" 1.2.2 リクエストパラメータ")]),t._v(" "),_("ul",[_("li",[t._v("必ずHeader部分にaccess_tokenとrefresh_tokenを格納する。")]),t._v(" "),_("li",[t._v("body部分に各々のAPIで必要なリクエストを格納する。")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("NO")]),t._v(" "),_("th",[t._v("パラメータ名")]),t._v(" "),_("th",[t._v("パラメータ名")]),t._v(" "),_("th",[t._v("値(例)")]),t._v(" "),_("th",[t._v("説明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("1")]),t._v(" "),_("td",[t._v("ヘッダ")]),t._v(" "),_("td",[t._v("header")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("ヘッダ部分に格納するもの")])]),t._v(" "),_("tr",[_("td",[t._v("1-1")]),t._v(" "),_("td",[t._v("アクセストークン")]),t._v(" "),_("td",[t._v("access_token")]),t._v(" "),_("td",[t._v("in:header schema:string(185795123454345fdfgeg) required:true")]),t._v(" "),_("td",[t._v("access_token")])]),t._v(" "),_("tr",[_("td",[t._v("1-2")]),t._v(" "),_("td",[t._v("リフレッシュトークン")]),t._v(" "),_("td",[t._v("refresh_token")]),t._v(" "),_("td",[t._v("in:header schema:string(185795123454345fdfgeg)")]),t._v(" "),_("td",[t._v("【refresh_tokenの値があり、access_tokenの有効期限が切れた場合】 access_tokenとrefresh_tokenが新しい値に更新される  【refresh_tokenの値がなく、access_tokenの有効期限が切れた場合】 レスポンスのresultの値がredirectで返却される")])])])]),t._v(" "),_("h3",{attrs:{id:"_1-2-3-レスポンスパラメータ"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-レスポンスパラメータ"}},[t._v("#")]),t._v(" 1.2.3 レスポンスパラメータ")]),t._v(" "),_("p",[t._v("-必ずaccess_token、access_token_limitとrefresh_token、refresh_token_limitを返却する。")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("NO")]),t._v(" "),_("th",[t._v("パラメータ名")]),t._v(" "),_("th",[t._v("パラメータ名")]),t._v(" "),_("th",[t._v("値(例)")]),t._v(" "),_("th",[t._v("説明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("1")]),t._v(" "),_("td",[t._v("アクセストークン")]),t._v(" "),_("td",[t._v("access_token")]),t._v(" "),_("td",[t._v("string(xxxx)")]),t._v(" "),_("td",[t._v("入力パラメータで指定したaccess_tokenまたは、新たに発行されたaccess_token")])]),t._v(" "),_("tr",[_("td",[t._v("2")]),t._v(" "),_("td",[t._v("アクセストークンの有効期限切れ日時")]),t._v(" "),_("td",[t._v("access_token_limit")]),t._v(" "),_("td",[t._v("string(2022-12-01 12:00:00)")]),t._v(" "),_("td",[t._v("アクセストークンの有効期限切れ日時")])]),t._v(" "),_("tr",[_("td",[t._v("3")]),t._v(" "),_("td",[t._v("リフレッシュトークン")]),t._v(" "),_("td",[t._v("refresh_token")]),t._v(" "),_("td",[t._v("string(xxxx)")]),t._v(" "),_("td",[t._v("入力パラメータで指定したrefresh_tokenまたは、新たに発行されたrefresh_token")])]),t._v(" "),_("tr",[_("td",[t._v("4")]),t._v(" "),_("td",[t._v("リフレッシュトークンの有効期限切れ日時")]),t._v(" "),_("td",[t._v("refresh_token_limit")]),t._v(" "),_("td",[t._v("string(2022-12-01 12:00:00)")]),t._v(" "),_("td",[t._v("リフレッシュトークンの有効期限切れ日時")])])])]),t._v(" "),_("ul",[_("li",[t._v("レスポンス例")])]),t._v(" "),_("div",{staticClass:"language-json extra-class"},[_("pre",{pre:!0,attrs:{class:"language-json"}},[_("code",[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"result"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"success"')]),t._v("\n   "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n   "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"正常"')]),t._v("\n "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"access_token"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxxx"')]),t._v("\n "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"access_token_limit"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2022-12-01 12:00:00"')]),t._v("\n "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"refresh_token"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxxx"')]),t._v("\n "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"refresh_token_limit"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2022-12-01 12:00:00"')]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);_.default=r.exports}}]);